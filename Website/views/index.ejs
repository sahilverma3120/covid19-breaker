<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8"><title>Vit Hack</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	
	<link rel="stylesheet" href="/css/styles.css">
	<script type="text/javascript">
		
		function contacttable(){
			$.ajax({
			url: "https://api.rootnet.in/covid19-in/contacts",
			dataType: "json",
			type: "GET",
			success: function(data){
				// var table = document.getElementById("contact-table");
				// 	  var row = table.insertRow(0);
				// 	  var cell1 = row.insertCell(0);
				// 	  var cell2 = row.insertCell(1);
				// 	  cell1.innerHTML = "<b>Location<b>";
				// 	  cell2.innerHTML = "<b>Number<b>";
				 data["data"]["contacts"]["regional"].forEach(function(state, index){
					 // console.log(state["loc"] + "-" + state["number"]);
					  var table = document.getElementById("contact-table");
					  var row = table.insertRow(index+1);
					  var cell1 = row.insertCell(0);
					  var cell2 = row.insertCell(1);
					  cell1.innerHTML = state["loc"];
					  cell2.innerHTML = state["number"];
				 })
			}
			})
		}
		function notifications(){
			$.ajax({
			url: "https://api.rootnet.in/covid19-in/notifications",
			dataType: "json",
			type: "GET",
			success: function(data){
				// var table = document.getElementById("notifications");
				// 	  var row = table.insertRow(0);
				// 	  var cell1 = row.insertCell(0);
				// 	  var cell2 = row.insertCell(1);
				// 	  cell1.innerHTML = "<b>Title<b>";
				// 	  cell2.innerHTML = "<b>Link<b>";
				 data.data.notifications.forEach(function(state, index){
					  var table = document.getElementById("notifications");
					  var row = table.insertRow(index+1);
					  var cell1 = row.insertCell(0);
					  var cell2 = row.insertCell(1);
					  cell1.innerHTML = state["title"];
					  cell2.innerHTML = state["link"];
				 })
			}
			})
		}
		function hospitalbed(){
			$.ajax({
			url: "https://api.rootnet.in/covid19-in/hospitals/beds",
			dataType: "json",
			type: "GET",
			success: function(data){
				// var table = document.getElementById("hospital-bed");
				// var row = table.insertRow(0);
				// var cell1 = row.insertCell(0);
				// var cell2 = row.insertCell(1);
				// var cell3 = row.insertCell(2);
				// var cell4 = row.insertCell(3);
				// var cell5 = row.insertCell(4);
				// var cell6 = row.insertCell(5);
				// var cell7 = row.insertCell(6);
				// var cell8 = row.insertCell(7);
				// cell1.innerHTML = "<b>State<b>";
				// cell2.innerHTML = "<b>Rural Hospitals<b>";
				// cell3.innerHTML = "<b>Rural Beds<b>";
				// cell4.innerHTML = "<b>Urban Hospitals<b>";
				// cell5.innerHTML = "<b>Urban Beds<b>";
				// cell6.innerHTML = "<b>Total Hospitals<b>";
				// cell7.innerHTML = "<b>Total Beds<b>";
				// cell8.innerHTML = "<b>As On<b>";
				 data["data"]["regional"].forEach(function(state, index){
					var table = document.getElementById("hospital-bed");
					var row = table.insertRow(index+1);
					Object.keys(state).forEach(function(item,j){
						 var cell = row.insertCell(j);
						 cell.innerHTML = state[item];
					 })
				 })
			}
			})
		}
		function collegebed(){
			$.ajax({
			url: "https://api.rootnet.in/covid19-in/hospitals/medical-colleges",
			dataType: "json",
			type: "GET",
			success: function(data){
				// var table = document.getElementById("college-bed");
				// var row = table.insertRow(0);
				// var cell1 = row.insertCell(0);
				// var cell2 = row.insertCell(1);
				// var cell3 = row.insertCell(2);
				// var cell4 = row.insertCell(3);
				// var cell5 = row.insertCell(4);
				// var cell6 = row.insertCell(5);
				// cell1.innerHTML = "<b>State<b>";
				// cell2.innerHTML = "<b>Name<b>";
				// cell3.innerHTML = "<b>City<b>";
				// cell4.innerHTML = "<b>Ownership<b>";
				// cell5.innerHTML = "<b>Admission Capacity<b>";
				// cell6.innerHTML = "<b>Hospital Beds<b>";
				data["data"]["medicalColleges"].forEach(function(state, index){
					var table = document.getElementById("college-bed");
					var row = table.insertRow(index+1);
					Object.keys(state).forEach(function(item,j){
						 var cell = row.insertCell(j);
						 cell.innerHTML = state[item];
					 })
				 })
			}
			})
		}
	
	
	</script>

</head>

<body onload="contacttable();notifications();hospitalbed();collegebed();">

	<div class = "container">
	
	<div class="py-5 text-center">
		<!-- <h2></h2>
		<p class="lead"></p>	
		<br/><br>
		<form class="form-inline"  style="text-align: center;">
		&nbsp;
		<input  id = "textid" class="form-control mr-sm-2" type="search" placeholder="Search..." aria-label="Search">
		<button onclick = "" class="btn btn-outline-dark" type = "button"><i class="fa fa-search"></i></button>
		</form>
		<br/> -->
		
		<p class="lead"><a style="color:black;" href="/api/data">Visualize the data</a></p>
		<!-- <p class="lead"><a style="color:black;" href="/api/docs">API documentation</a></p> -->
		
		<div class="table-wrapper">
			<table class="fl-table" id="contact-table">
					<thead>
				<tr>
						<th>Location</th>
					<th>Number</th>
				</tr>
				</thead>
			</table>
			<table class="fl-table" id="notifications">
				<thead>
					<tr>
						<th>Title</th>
						<th>Link</th>
					</tr>
				</thead>
			</table>
			<table class="fl-table" id="hospital-bed">
				<thead>
					<tr>
						<th>State</th>
						<th>Rural Hospitals</th>
						<th>ural Beds</th>
						<th>Urban Hospitals</th>
						<th>Urban Beds</th>
						<th>Total Hospitals</th>
						<th>Total Beds</th>
						<th>Hospital Beds</th>
					</tr>
				</thead>
			</table>
			<table class="fl-table" id="college-bed">
				<thead>
					<tr>
						<th>State</th>
						<th>Name</th>
						<th>City</th>
						<th>Ownership</th>
						<th>Admission Capacity</th>
						<th>Number</th>
					</tr>
				</thead>
			</table>
		</div>
		
	


	</div>
	
	
	</div>
	
	

</body>
</html>